<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(circle at top,#1e1b4b,#020617 60%);
  color:#fff;
}
.header{padding:16px;text-align:center;font-size:20px;font-weight:bold}
.hidden{display:none}
.back{position:absolute;left:15px;top:18px;color:#38bdf8;text-decoration:none;font-size:14px}

:root{
  --neon-blue:#38bdf8;--neon-purple:#a855f7;
  --glass-bg:rgba(15,23,42,0.6);--glass-border:rgba(255,255,255,0.08);
}
.glass{
  background:var(--glass-bg);backdrop-filter: blur(14px);
  border:1px solid var(--glass-border);border-radius:18px;
  box-shadow:0 0 25px rgba(168,85,247,.15), inset 0 0 20px rgba(56,189,248,.08);
}
.section{margin:15px;padding:16px}
.toggle{display:flex;justify-content:space-between;align-items:center;margin:12px 0}
.toggle label{font-size:14px}
.toggle input{width:22px;height:22px}

.neon-btn{
  width:100%;padding:14px;margin-top:12px;
  background:linear-gradient(135deg,var(--neon-blue),var(--neon-purple));
  color:#fff;border:none;border-radius:16px;font-size:15px;font-weight:800;cursor:pointer;
  box-shadow:0 0 15px rgba(56,189,248,.7),0 0 35px rgba(168,85,247,.6)
}
.input{width:100%;padding:12px;border-radius:12px;border:none;outline:none;font-size:14px;margin-top:10px}
.msg{display:none;margin:15px;padding:14px;border-radius:14px}
.ok{background:#14532d}
.err{background:#7f1d1d}
</style>
</head>

<body>

<a class="back" href="index.html">‚Üê Back</a>

<!-- ADMIN KEY -->
<div id="loginBox" class="section glass">
  <div class="header">Admin Access</div>
  <input id="key" class="input" placeholder="Enter admin key">
  <button class="neon-btn" onclick="unlock()">UNLOCK</button>
</div>

<!-- PANEL -->
<div id="panel" class="hidden">

  <div class="header">System Controls</div>

  <div class="section glass">
    <div class="toggle">
      <label>Maintenance Mode</label>
      <input id="maintenance" type="checkbox">
    </div>
    <div class="toggle">
      <label>Join Enabled</label>
      <input id="join_enabled" type="checkbox" checked>
    </div>
    <div class="toggle">
      <label>Create Enabled</label>
      <input id="create_enabled" type="checkbox" checked>
    </div>

    <button class="neon-btn" onclick="save()">SAVE SETTINGS</button>
  </div>

  <div id="ok" class="msg ok">Settings saved. App will update on refresh.</div>
  <div id="err" class="msg err">Failed to save. Try again.</div>
</div>

<script>
/* ===== CHANGE THESE ===== */
const ADMIN_KEY = "TSK_ADMIN_2025";
/* Google Form POST URL (System_Settings Update Form) */
const FORM_POST_URL = "PASTE_SYSTEM_SETTINGS_FORM_POST_URL_HERE";

/* Unlock */
function unlock(){
  if(document.getElementById('key').value === ADMIN_KEY){
    document.getElementById('loginBox').style.display='none';
    document.getElementById('panel').classList.remove('hidden');
  } else {
    alert("Invalid key");
  }
}

/* Save settings to Google Sheet via Form */
function save(){
  const m = document.getElementById('maintenance').checked ? "TRUE":"FALSE";
  const j = document.getElementById('join_enabled').checked ? "TRUE":"FALSE";
  const c = document.getElementById('create_enabled').checked ? "TRUE":"FALSE";

  const fd = new FormData();
  /* Replace entry IDs with your Form field IDs */
  fd.append('entry.1111111111','maintenance');
  fd.append('entry.2222222222',m);

  fd.append('entry.3333333333','join_enabled');
  fd.append('entry.4444444444',j);

  fd.append('entry.5555555555','create_enabled');
  fd.append('entry.6666666666',c);

  fetch(FORM_POST_URL,{method:'POST',mode:'no-cors',body:fd})
    .then(()=>{document.getElementById('ok').style.display='block';})
    .catch(()=>{document.getElementById('err').style.display='block';});
}
</script>

</body>
</html>
